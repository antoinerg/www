<!DOCTYPE html>
<html lang='en'>
  <head>
    <script src='http://localhost:3000/build/plotly.js'></script>
    <style>
      html, body {
        margin:0; padding:0;
      }

      #gd {
        height: 100vh;
        width: 100vw;
      }
    </style>
  </head>
  <body>
    <div id="gd">
    </div>

    <script>
    var values = [400, 450];
    Plotly.newPlot('gd', {
      data: [{
        name: 'Speed',
        type: 'indicator',
        max: 500,
        values: values
      }],
      layout: {
        margin: {t:25, r:25, l:25, b:25}
      },
      config: {
        responsive: true
      }
    })
    .then(function() {
      update();
    })

    function update() {
      setTimeout(function() {
        values.push(Math.random() * 500);
        Plotly.animate('gd', {
          data: values
        }, {
          transition: {
            duration: 500,
            easing: 'cubic-in-out'
          }
        }).then(function() {
          update();
        })
      }, 500)
    }

    </script>
  </body>
</html>
